/* ========================================================== 
 * 
 * bootstrap-maxlength.js v 1.5.3 
 * Copyright 2014 Maurizio Napoleoni @mimonap
 * Licensed under MIT License
 * URL: https://github.com/mimo84/bootstrap-maxlength/blob/master/LICENSE
 *
 * ========================================================== */
(function (n) { "use strict"; n.fn.extend({ maxlength: function (t, i) { function f(n) { var i = n.val(), r; return i = i.replace(new RegExp("\r?\n", "g"), "\n"), r = 0, t.utf8 ? l(n.val()) : n.val().length } function l(n) { for (var i, t = 0, r = 0; r < n.length; r++) i = n.charCodeAt(r), i < 128 ? t++ : t = i > 127 && i < 2048 ? t + 2 : t + 3; return t } function a(n, i, r) { var u = !0; return !t.alwaysShow && r - f(n) > i && (u = !1), u } function e(n, t) { return t - f(n) } function o(n) { n.css({ display: "block" }) } function v(n) { n.css({ display: "none" }) } function s(n, i) { var r = ""; return t.message ? r = t.message.replace("%charsTyped%", i).replace("%charsRemaining%", n - i).replace("%charsTotal%", n) : (t.preText && (r += t.preText), r += t.showCharsTyped ? i : n - i, t.showMaxLength && (r += t.separator + n), t.postText && (r += t.postText)), r } function h(n, i, r, u) { u.html(s(r, r - n)); n > 0 ? a(i, t.threshold, r) ? o(u.removeClass(t.limitReachedClass).addClass(t.warningClass)) : v(u) : o(u.removeClass(t.warningClass).addClass(t.limitReachedClass)) } function y(t) { var i = t[0]; return n.extend({}, typeof i.getBoundingClientRect == "function" ? i.getBoundingClientRect() : { width: i.offsetWidth, height: i.offsetHeight }, t.offset()) } function r(n, i) { var r = y(n), o = n.outerWidth(), f = i.outerWidth(), e = i.width(), u = i.height(); switch (t.placement) { case "bottom": i.css({ top: r.top + r.height, left: r.left + r.width / 2 - e / 2 }); break; case "top": i.css({ top: r.top - u, left: r.left + r.width / 2 - e / 2 }); break; case "left": i.css({ top: r.top + r.height / 2 - u / 2, left: r.left - e }); break; case "right": i.css({ top: r.top + r.height / 2 - u / 2, left: r.left + r.width }); break; case "bottom-right": i.css({ top: r.top + r.height, left: r.left + r.width }); break; case "top-right": i.css({ top: r.top - u, left: r.left + o }); break; case "top-left": i.css({ top: r.top - u, left: r.left - f }); break; case "bottom-left": i.css({ top: r.top + n.outerHeight(), left: r.left - f }); break; case "centered-right": i.css({ top: r.top + u / 2, left: r.left + o - f - 3 }) } } function u(n) { return n.attr("maxlength") || n.attr("size") } var c = n("body"); return n.isFunction(t) && !i && (i = t, t = {}), t = n.extend({ alwaysShow: !1, threshold: 10, warningClass: "label label-success", limitReachedClass: "label label-important", separator: " / ", preText: "", postText: "", showMaxLength: !0, placement: "bottom", showCharsTyped: !0, validate: !1, utf8: !1 }, t), this.each(function () { var i = n(this), o, f; n(window).resize(function () { f && r(i, f) }); i.focus(function () { var l = s(o, "0"), t; o = u(i); f || (f = n('<span class="bootstrap-maxlength"><\/span>').css({ display: "none", position: "absolute", whiteSpace: "nowrap", zIndex: 1099 }).html(l)); i.is("textarea") && (i.data("maxlenghtsizex", i.outerWidth()), i.data("maxlenghtsizey", i.outerHeight()), i.mouseup(function () { (i.outerWidth() !== i.data("maxlenghtsizex") || i.outerHeight() !== i.data("maxlenghtsizey")) && r(i, f); i.data("maxlenghtsizex", i.outerWidth()); i.data("maxlenghtsizey", i.outerHeight()) })); c.append(f); t = e(i, u(i)); h(t, i, o, f); r(i, f) }); i.blur(function () { f.remove() }); i.keyup(function () { var n = e(i, u(i)), r = !0; return t.validate && n < 0 ? r = !1 : h(n, i, o, f), r }) }) } }) })(jQuery);