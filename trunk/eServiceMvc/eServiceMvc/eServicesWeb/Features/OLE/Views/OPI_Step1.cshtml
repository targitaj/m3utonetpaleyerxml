@model Uma.Eservices.Models.OLE.OLEPersonalInformationPage
@{
    ViewBag.Title = "Residence permit for Studies application: Step 1";
}

<div class="path-descr">
    <div><a href="@Url.Action(MVC.Home.Index())">@T("Home")</a></div>
    <div><a href="@Url.Action(MVC.Info.StudyPermit())">@T("Studying in Finland")</a></div>
    <div>@T("Student Application Form")</div>
</div>

@Html.Partial(MVC.Shared.Views._DashboardTabs, 2)
<h1>@T("Student Application Form")</h1>
@Html.Partial(MVC.Shared.Views._FormProgress, Model.FormProgress)

@using (Html.BeginForm(MVC.OLE.ActionNames.OPIStep1Save, MVC.OLE.Name, FormMethod.Post, new { id = "step1Form", role = "form", ajaxSavingUrl = Url.Action(MVC.OLE.ActionNames.OPIStep1AjaxSave) }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.PageId)
    @Html.HiddenFor(m => m.ApplicationId)
    <h4 style="padding-bottom: 30px;">
        @T("I am applying for and will be submitting an application for...")
    </h4>
    @Html.UmaRadioButtonFor(o => o.IsExtension, @T("My first residence permit").ToString(), false)
    @Html.UmaRadioButtonFor(o => o.IsExtension, @T("An extension to my residence permit").ToString(), true)
    <br/>

    using (Html.BeginUmaAcordionPanel("accordionOleOpi"))
    {
        using (Html.BeginUmaExpander(m => m.PersonDataBlock, "Tell us who you are and where are you from", "accordionOleOpi"))
         {
             @Html.EditorFor(m => m.PersonDataBlock, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step1_Block1_Person)
            <div class="row blocksave">
                <div class="col-sm-8">
                    <button id="block1save" class="btn btn-primary btn-sm formblocksubmit" type="button" data-targetpanel="1">@T("SAVE")</button>
                </div>
            </div>
         }

        using (Html.BeginUmaExpander(m => m.ContactInformationBlock, "Contact information for processing and deciding on the application", "accordionOleOpi", true))
        {
            @Html.EditorFor(m => m.ContactInformationBlock, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step1_Block2_Contacts)
            <div class="row blocksave">
                <div class="col-sm-8">
                    <button id="block1save" class="btn btn-primary btn-sm formblocksubmit" type="button" data-targetpanel="2">@T("SAVE")</button>
                </div>
            </div>
        }

        using (Html.BeginUmaExpander(m => m.PassportInformationBlock, "Please tell us your passport information", "accordionOleOpi", true))
        {
            @Html.EditorFor(m => m.PassportInformationBlock, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step1_Block3_Passport)
            <div class="row blocksave">
                <div class="col-sm-8">
                    <button id="block1save" class="btn btn-primary btn-sm formblocksubmit" type="button" data-targetpanel="3">@T("SAVE")</button>
                </div>
            </div>
        }

        using (Html.BeginUmaExpander(m => m.ResidenceDurationBlock, "Tell us about the duration of your residence in Finland", "accordionOleOpi", true))
        {
            @Html.EditorFor(m => m.ResidenceDurationBlock, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step1_Block4_Duration)
            <div class="row blocksave">
                <div class="col-sm-8">
                    <button id="block1save" class="btn btn-primary btn-sm formblocksubmit" type="button" data-targetpanel="4">@T("SAVE")</button>
                </div>
            </div>
        }

        using (Html.BeginUmaExpander(m => m.FamilyBlock, "Tell us about your marital status and family", "accordionOleOpi", true))
        {
            @Html.EditorFor(m => m.FamilyBlock, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step1_Block5_Family)
            <hr class="form-separator" />
        }
    }

    <div class="row formsubmit">
        <div class="col-sm-8">
            @Html.UmaButton("Step1Submit", "SAVE & CONTINUE", UmaButtonType.FormSubmit)
        </div>
    </div>
}
@section scripts
{
    @Scripts.Render("~/bundles/formjs")
}
