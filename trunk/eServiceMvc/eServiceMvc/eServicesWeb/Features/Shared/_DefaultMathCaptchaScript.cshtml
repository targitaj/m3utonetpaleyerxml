@model CaptchaMvc.Models.MathBuildInfoModel
@{
    string id;
    if (!Model.Attributes.TryGetValue("CaptchaId", out id))
    {
        id = Guid.NewGuid().ToString("N");
        Model.Attributes["CaptchaId"] = id;
    }
    string functionName;
    if (!Model.Attributes.TryGetValue("CaptchaFuncName", out functionName))
    {
        functionName = string.Format("______{0}________()", Guid.NewGuid().ToString("N"));
        Model.Attributes["CaptchaFuncName"] = functionName;
    }
    
   <script type="text/javascript">

    $(function () {
        $('#@id').show();
    });


    function @functionName {
        $('#@id').hide();
        $.post("@Model.RefreshUrl", { @Model.TokenParameterName: $('#@Model.TokenElementId').val(), @Model.MathParamterName: "0" }, 
            function () {  $('#@id').show();
        });
        return false;
    }
</script>
}