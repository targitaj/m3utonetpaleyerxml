@model Uma.Eservices.Models.OLE.OLEOPIFinancialInformationPage
@{
    ViewBag.Title = "Residence permit for Studies application: Step 3";
}

<div class="path-descr">
    <div><a href="@Url.Action(MVC.Home.Index())">@T("Home")</a></div>
    <div><a href="@Url.Action(MVC.Info.StudyPermit())">@T("Studying in Finland")</a></div>
    <div>@T("Student Application Form")</div>
</div>

@Html.Partial(MVC.Shared.Views._DashboardTabs, 2)
<h1>@T("Student Application Form")</h1>
@Html.Partial(MVC.Shared.Views._FormProgress, Model.FormProgress)

@using (Html.BeginForm(MVC.OLE.ActionNames.OPIStep3Save, MVC.OLE.Name, FormMethod.Post, new { role = "form", ajaxSavingUrl = Url.Action(MVC.OLE.ActionNames.OPIStep3AjaxSave) }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(m => m.PageId)
    @Html.HiddenFor(m => m.ApplicationId)

    using (Html.BeginUmaAcordionPanel("accordionOleOpi"))
    {
      using (Html.BeginUmaExpander(m => m.FinancialStudySupport, "How will you support yourself in Finland?", "accordionOleOpi", false))
      {
          @Html.EditorFor(m => m.FinancialStudySupport, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step3_Block1_FinancialSupport)
        <div class="row blocksave">
            <div class="col-sm-8">
                <button id="block1save" class="btn btn-primary btn-sm formblocksubmit" type="button" data-targetpanel="1">@T("SAVE")</button>
            </div>
        </div>
      }

        using (Html.BeginUmaExpander(m => m.HealthInsurance, "What type of health insurance will you have in Finland?", "accordionOleOpi", true))
        {
            @Html.EditorFor(m => m.HealthInsurance, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step3_Block2_HealthInsurance)
            <div class="row blocksave">
                <div class="col-sm-8">
                    <button id="block1save" class="btn btn-primary btn-sm formblocksubmit" type="button" data-targetpanel="2">@T("SAVE")</button>
                </div>
            </div>
        }

        using (Html.BeginUmaExpander(m => m.AdditionalInformation, "Additional information for the application", "accordionOleOpi", true))
        {
            @Html.EditorFor(m => m.AdditionalInformation, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step3_Block3_AdditionalInfo)
            <div class="row blocksave">
                <div class="col-sm-8">
                    <button id="block1save" class="btn btn-primary btn-sm formblocksubmit" type="button" data-targetpanel="3">@T("SAVE")</button>
                </div>
            </div>
        }

        using (Html.BeginUmaExpander(m => m.CriminalInformation, "Applicant’s criminal history and refusal of entry", "accordionOleOpi", true))
        {
            @Html.EditorFor(m => m.CriminalInformation, MVC.OLE.Views.EditorTemplates._OLE_OPI_Step3_Block4_CriminalInfo)
            <hr class="form-separator" />
        }
    }

    <div class="row formsubmit">
        <div class="col-sm-8">
            @Html.UmaButton("Step3Submit", "SAVE & CONTINUE", UmaButtonType.FormSubmit)
        </div>
    </div>
}
@section scripts
{
@Scripts.Render("~/bundles/formjs")
}